{"version":3,"sources":["components/imageGallery/ImageGallery.module.scss","components/imageGallery/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/App.module.css","components/button/Button.module.css","components/searchbar/Searchbar.js","components/imageGallery/imageGalleryItem/ImageGalleryItem.js","components/button/Button.js","components/modal/Modal.js","services/Api.js","components/imageGallery/ImageGallery.js","components/App.js","index.js","components/searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleInput","e","value","target","setState","toLowerCase","handleSubmit","event","preventDefault","trim","props","onSubmit","alert","className","style","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","src","alt","modalUrl","onClickCurrentImage","ImageGalleryItemImage","onClick","Button","LoadMore","modalRoot","document","querySelector","Modal","onCLoseModal","code","onClose","onOverlayClose","currentTarget","window","addEventListener","overflow","removeEventListener","createPortal","Overlay","children","BASE_URL","API_KEY","fetch","then","response","json","page","ImageGallery","gallery","showModal","largeImg","error","loading","getImages","imagesApi","prevState","hits","catch","console","log","finally","scrollTo","top","documentElement","scrollHeight","behavior","componentDidUpdate","prevProp","onLoadMore","prev","toggleModal","findCurrentImages","main","map","image","webformatURL","tags","largeImageURL","id","color","height","width","length","App","handleFormSearch","searchQuery","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.af661655.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3kJ-U\",\"main\":\"ImageGallery_main__1kH0o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2iCdG\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2RaYg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3zur2\",\"Modal\":\"Modal_Modal__JzWj5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2s_Fq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__UUCg_\"};","import React, {Component} from \"react\";\nimport style from \"./Searchbar.module.css\";\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n\n    state = {\n        inputValue: '',\n    }\n\n    handleInput = (e) => {\n        const {value} = e.target;\n        this.setState({\n            inputValue: value.toLowerCase(),\n        })\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n\n        if (this.state.inputValue.trim() === '') {\n            alert(\"Введите название изображения\")\n            return;\n        }\n\n        this.props.onSubmit(this.state.inputValue);\n        this.setState({\n            inputValue: '',\n        })\n    }\n\n    render() {\n        return (\n            <header className={style.Searchbar}>\n                <form onSubmit={this.handleSubmit} className={style.SearchForm}>\n                    <button type=\"submit\" className={style.SearchFormButton}>\n                        <span className={style.SearchFormButtonLabel}>Search</span>\n                    </button>\n\n                    <input\n                        className={style.SearchFormInput}\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search images and photos\"\n                        onChange={this.handleInput}\n                        value={this.state.inputValue}\n                    />\n                </form>\n            </header>\n        );\n    }\n}\n\nSearchbar.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n}\n\nexport default Searchbar;\n","import React from \"react\";\nimport style from \"./ImageGalleryItem.module.css\";\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({src, alt, modalUrl, onClickCurrentImage}) => {\n\n    const setLargeImage = () => onClickCurrentImage(modalUrl);\n\n    return (\n        <>\n            <li className={style.ImageGalleryItem}>\n                <img\n                    src={src}\n                    alt={alt}\n                    className={style.ImageGalleryItemImage}\n                    onClick={setLargeImage}\n                />\n            </li>\n        </>\n    );\n}\n\nImageGalleryItem.propTypes = {\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired,\n    modalUrl: PropTypes.string.isRequired,\n    onClickCurrentImage: PropTypes.func.isRequired,\n}\n\nexport default ImageGalleryItem","import React from \"react\";\nimport style from \"./Button.module.css\";\nimport PropTypes from 'prop-types';\n\nconst Button = ({LoadMore}) => {\n    return (\n        <button type=\"button\" className={style.Button} onClick={LoadMore}>Load more</button>\n    );\n}\n\nButton.propTypes = {\n    LoadMore: PropTypes.func.isRequired,\n}\n\nexport default Button;","import React, {Component} from \"react\";\nimport PropTypes from 'prop-types';\nimport style from \"./Modal.module.css\";\nimport {createPortal} from \"react-dom\";\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n    componentDidMount(e) {\n        window.addEventListener(\"keydown\", this.onCLoseModal);\n        const body = document.querySelector(\"body\");\n        body.style.overflow = \"hidden\";\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"keydown\", this.onCLoseModal);\n        const body = document.querySelector(\"body\");\n        body.style.overflow = \"auto\";\n    }\n\n    onCLoseModal = (e) => {\n        if (e.code === 'Escape') {\n            this.props.onClose();\n        }\n    }\n\n    onOverlayClose = (e) => {\n        if (e.currentTarget === e.target) {\n            this.props.onClose();\n        }\n    }\n\n    render() {\n        return createPortal(\n            <div className={style.Overlay} onClick={this.onOverlayClose}>\n                <div className={style.Modal}>\n                    {this.props.children}\n                </div>\n            </div>,\n            modalRoot,\n        );\n    }\n}\n\nModal.propTypes = {\n    onClose: PropTypes.func.isRequired,\n}\n\nexport default Modal;","const BASE_URL = \"https://pixabay.com/api/?\";\nconst API_KEY = \"23297096-fdec21a8bcbab7faa251f0233\";\n\nconst fetchQueryApi = (inputValue) => {\n    return fetch(BASE_URL + `q=${inputValue}&page=1&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n        .then(response => {\n            return response.json();\n        });\n}\n\nconst fetchLoadMore = (value, page) => {\n    return fetch(BASE_URL + `q=${value}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n        .then(response => response.json());\n}\n\nexport default {\n    fetchQueryApi,\n    fetchLoadMore,\n}","import React, {Component} from \"react\";\nimport style from \"./ImageGallery.module.scss\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from \"./imageGalleryItem/ImageGalleryItem\";\nimport Button from \"../button/Button\";\nimport Modal from \"../modal/Modal\";\nimport imagesApi from \"../../services/Api\";\nimport Loader from \"react-loader-spinner\";\n\nclass ImageGallery extends Component {\n\n    state = {\n        gallery: [],\n        page: 1,\n        showModal: false,\n        largeImg: '',\n        error: null,\n        loading: false,\n    }\n\n    getImages = (inputValue, page) => {\n        this.setState({loading: true});\n        (!page ?\n                imagesApi\n                    .fetchQueryApi(inputValue) :\n                imagesApi\n                    .fetchLoadMore(inputValue, page)\n        )\n\n            .then(gallery => !page ? this.setState(prevState => ({\n                    gallery: gallery.hits,\n                    page: 1,\n                })) : this.setState(prevState => ({\n                    gallery: [...prevState.gallery, ...gallery.hits]\n                }))\n            )\n            .catch(error => {\n                console.log(error)\n                this.setState({error})\n            })\n            .finally(() => {\n                this.setState({loading: false});\n                window.scrollTo({\n                    top: document.documentElement.scrollHeight,\n                    behavior: \"smooth\",\n                });\n            })\n    }\n\n    componentDidUpdate = (prevProp, prevState) => {\n        if (this.props.inputValue !== prevProp.inputValue) this.getImages(this.props.inputValue);\n        if (this.state.page !== prevState.page && this.state.page !== 1) this.getImages(this.props.inputValue, this.state.page);\n    }\n\n    onLoadMore = () => {\n        this.setState(prev => ({\n            page: prev.page + 1,\n        }))\n    }\n\n    toggleModal = () => {\n        this.setState(state => ({\n            showModal: !state.showModal,\n        }))\n    }\n\n    findCurrentImages = (largeImg) => {\n        this.setState((prev) => ({\n            showModal: !prev.showModal,\n            largeImg,\n        }));\n    };\n\n    render() {\n        const {gallery, showModal, largeImg, error, loading} = this.state;\n        return (\n            <main className={style.main}>\n                {error && <h2>Введите запрос ещё раз</h2>}\n                <ul className={style.ImageGallery}>\n                    {gallery.map(image => <ImageGalleryItem\n                            src={image.webformatURL}\n                            alt={image.tags} key={image.id}\n                            modalUrl={image.largeImageURL}\n                            onClickCurrentImage={this.findCurrentImages}\n                        />\n                    )}\n                </ul>\n                {loading && <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80}/>}\n                {showModal && <Modal onClose={this.toggleModal}>\n                    <img src={largeImg} alt=\"Изображение\"/>\n                </Modal>}\n                {gallery.length > 0 && <Button LoadMore={this.onLoadMore}/>}\n            </main>\n        );\n    }\n}\n\nImageGallery.propTypes = {\n    inputValue: PropTypes.string.isRequired,\n}\n\nexport default ImageGallery;","import React, {Component} from \"react\";\nimport style from \"./App.module.css\";\nimport Searchbar from \"./searchbar/Searchbar\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\n\nclass App extends Component {\n\n    state = {\n        value: '',\n    }\n\n    handleFormSearch = (searchQuery) => {\n        this.setState({\n            value: searchQuery,\n        })\n    }\n\n    render() {\n        return (\n            <div className={style.App}>\n                <Searchbar onSubmit={this.handleFormSearch}/>\n                <ImageGallery inputValue={this.state.value}/>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3nP09\",\"SearchForm\":\"Searchbar_SearchForm__l0-6e\",\"SearchFormButton\":\"Searchbar_SearchFormButton__18FfJ\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3pqnD\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2QS5Z\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3FzPn\"};"],"sourceRoot":""}